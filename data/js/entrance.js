(function($){$(function(){$('div.question_loop input:checkbox').change(function(){var $this=$(this);var label=$this.siblings('label');if($this.is(":checked")){label.addClass("checked");}else{label.removeClass("checked");}});});$(function(){$('.timer').startTimer({onComplete:function(element){$('.questions-form').submit();}});});$(function(){var show_per_page=get_show_per_page;var number_of_items=$(".question_lists").children(".question_loop").size();var number_of_pages=Math.ceil(number_of_items/show_per_page);var page_navigation=$('.page_navigation');$('#current_page').val(0);$('#show_per_page').val(show_per_page);var navigation_html='<a class="previous_link pbt-page" href="javascript:previous();"><</a>';var current_link=0;while(number_of_pages>current_link){navigation_html+='<a class="page_link pbt-page" href="javascript:go_to_page('+current_link+')" longdesc="'+current_link+'">'+(current_link+1)+'</a>';current_link++;}
navigation_html+='<a class="next_link" href="javascript:next();">></a>';navigation_html+='<div style="clear:both"></div>';page_navigation.html(navigation_html);page_navigation.after("<hr/>");$('.page_navigation .page_link:first').addClass('pbt-current');$(".question_lists").children(".question_loop").css('display','none');$(".question_lists").children(".question_loop").slice(0,show_per_page).css('display','block');});})(jQuery);function go_to_page(page_num){var show_per_page=parseInt(jQuery('#show_per_page').val());start_from=page_num*show_per_page;end_on=start_from+show_per_page;jQuery(".question_lists").children(".question_loop").css('display','none').slice(start_from,end_on).css('display','block');jQuery('.page_link[longdesc='+page_num+']').addClass('pbt-current').siblings('.pbt-current').removeClass('pbt-current');jQuery('#current_page').val(page_num);}

function previous(){new_page=parseInt(jQuery('#current_page').val())-1;if(jQuery('.pbt-current').prev('.page_link').length==true){go_to_page(new_page);}}
function next(){new_page=parseInt(jQuery('#current_page').val())+1;if(jQuery('.pbt-current').next('.page_link').length==true){go_to_page(new_page);}}